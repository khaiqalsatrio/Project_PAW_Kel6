<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Affordable Hotel Booking</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <style>
      /* Ensure the page content takes at least the full height of the screen */
      html, body {
        height: 97%;
        margin: 0;
      }

      /* Create a flex container to push footer to the bottom */
      .content-wrapper {
        display: flex;
        flex-direction: column;
        min-height: 100%;
      }

      .container {
        flex: 1;
      }

      #room-list .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      #room-list .card:hover {
        transform: translateY(-10px) rotate(2deg);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <div class="content-wrapper">
      <!-- Main Content -->
      <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <!-- Welcome Card -->
            <div class="card shadow-lg mb-4">
              <div class="card-header bg-primary text-white text-center">
                <h4>Selamat Datang Di OYO</h4>
              </div>
              <div class="card-body">
                <p class="text-center">Booking Hotel Murah, Liburan Tanpa Hambatan, OYO in aja.</p>
                <h5 class="text-center" style="color: green;">Welcome, <%= username %>!</h5>
                <p class="text-center" id="username-display" style="font-weight: bold; color: green"></p>
              </div>
            </div>
            <!-- Room Types -->
            <div class="card shadow-lg">
              <div class="card-header bg-info text-white text-center">
                <h4>Detail Jenis Kamar</h4>
              </div>
              <div class="card-body">
                <div class="row" id="room-list">
                  <!-- Loop through each room from the server -->
                  <% rooms.forEach((room) => { %>
                    <div class="col-md-4 mb-4">
                      <div class="card room-card" data-description="<%= room.deskripsi_kamar %>">
                        <img src="https://via.placeholder.com/350x200" class="card-img-top" alt="<%= room.nama_kamar %>" />
                        <div class="card-body">
                          <h5 class="card-title"><%= room.nama_kamar %></h5>
                          <p class="card-text">Rp <%= room.harga_kamar %></p>
                          <span class="text-success"><%= room.deskripsi_kamar %></span>
                        </div>
                      </div>
                    </div>
                  <% }); %>                
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal -->
      <div
        class="modal fade"
        id="roomModal"
        tabindex="-1"
        aria-labelledby="roomModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="roomModalLabel">Room Details</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body" id="roomModalBody"></div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer
        class="text-white text-center py-2 mt-5"
        style="background-color: rgb(35, 33, 33)"
      >
        <p class="mb-0">&copy; 2024 Hotel Murah. All rights reserved.</p>
      </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.querySelectorAll('.room-card').forEach((card) => {
        card.addEventListener('click', function () {
          const description = this.getAttribute('data-description');
          document.getElementById('roomModalBody').textContent = description;
          const roomModal = new bootstrap.Modal(document.getElementById('roomModal'));
          roomModal.show();
        });
      });
    </script>
  </body>
</html>
